# Dicee Project - direnv configuration
# Auto-loads mise tool versions and project environment

# Load mise-managed tool versions (Node 24, Rust)
use mise

# Project identification
export PROJECT_NAME="dicee"
export DICEE_PROJECT_ROOT="$PWD"

# Default to dev environment for local work
export DICEE_ENV="${DICEE_ENV:-dev}"

# Enable project-specific MCP servers for Windsurf/Copilot/Codex
# (Claude Code CLI and Cursor use .mcp.json and .cursor/mcp.json directly)
export DICEE_MCP_ENABLED="true"

# Load local secrets (gitignored)
# Use: cp .envrc.example.local .envrc.local && edit
source_env_if_exists .envrc.local

# MCP Server Authentication
# Load Supabase MCP token from gopass for Claude Code and Cursor
if command -v gopass >/dev/null 2>&1; then
  export SUPABASE_MCP_TOKEN="$(gopass show -o dicee/supabase/mcp-token 2>/dev/null || echo '')"
fi
